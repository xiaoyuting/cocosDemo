{"version":3,"sources":["file:///Users/a1/templateProject/assets/scripts/notifition/ManagerBase.ts"],"names":["_decorator","ComponentBase","MessageType","MessageCenter","ccclass","property","ManagerBase","ReceiveList","messageType","onLoad","SetMessageType","Mangers","push","start","Type_UI","RegisterReceiver","cb","ReceiveMessage","message","Type"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,a,iBAAAA,a;;AACSC,MAAAA,W,iBAAAA,W;;AACTC,MAAAA,a,iBAAAA,a;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;6BAGjBM,W,WADZF,OAAO,CAAC,aAAD,C,gBAAR,MACaE,WADb;AAAA;AAAA,0CAC+C;AAAA;AAAA;AAAA,eAC3CC,WAD2C,GACb,EADa;AAAA,eAE3CC,WAF2C;AAAA;;AAIjCC,QAAAA,MAAM,GAAS;AACrB,eAAKD,WAAL,GAAmB,KAAKE,cAAL,EAAnB;AACA;AAAA;AAAA,8CAAcC,OAAd,CAAsBC,IAAtB,CAA2B,IAA3B;AACH;;AACDC,QAAAA,KAAK,GAAG,CAEP;;AACDH,QAAAA,cAAc,GAAS;AACnB,iBAAQ;AAAA;AAAA,0CAAYI,OAApB;AACH;;AACDC,QAAAA,gBAAgB,CAACC,EAAD,EAAkB;AAC9B,eAAKT,WAAL,CAAiBK,IAAjB,CAAsBI,EAAtB;AACH;;AAEDC,QAAAA,cAAc,CAACC,OAAD,EAAyB;AACnC,gBAAMD,cAAN,CAAqBC,OAArB;;AAEA,cAAGA,OAAO,CAACC,IAAR,IAAgB,KAAKX,WAAxB,EAAoC;AAChC;AACH;;AAED,eAAI,IAAIQ,EAAR,IAAc,KAAKT,WAAnB,EAA+B;AAC3BS,YAAAA,EAAE,CAACC,cAAH,CAAkBC,OAAlB;AACH;AACJ;;AA5B0C,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\nimport { ComponentBase } from './ComponentBase';\nimport { Message, MessageType } from './Message';\nimport { MessageCenter } from './MessageCenter';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ManagerBase')\nexport class ManagerBase extends ComponentBase {\n    ReceiveList:ComponentBase[] = []\n    messageType:number\n\n    protected onLoad(): void {\n        this.messageType = this.SetMessageType()\n        MessageCenter.Mangers.push(this)\n    }\n    start() {\n\n    }\n    SetMessageType():number{\n        return  MessageType.Type_UI\n    }\n    RegisterReceiver(cb:ComponentBase){\n        this.ReceiveList.push(cb)\n    }\n\n    ReceiveMessage(message: Message): void {\n        super.ReceiveMessage(message)\n\n        if(message.Type != this.messageType){\n            return\n        }\n\n        for(let cb of this.ReceiveList){\n            cb.ReceiveMessage(message)\n        }\n    }\n    \n}\n\n"]}